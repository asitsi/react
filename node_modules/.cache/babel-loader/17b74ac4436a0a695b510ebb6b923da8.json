{"ast":null,"code":"var _jsxFileName = \"E:\\\\test\\\\frontend\\\\src\\\\admin\\\\AddPoll.js\";\nimport React, { useState } from \"react\";\nimport \"../styles.scss\";\nimport { isAutheticated } from \"../auth/helper/index\";\nimport { API } from \"../backend\";\nimport axios from \"axios\";\nimport { useHistory } from \"react-router-dom\";\nimport { Link } from \"react-router-dom\";\nimport ArrowBackIcon from \"@material-ui/icons/ArrowBack\";\n\nconst AddPoll = () => {\n  const {\n    user,\n    token\n  } = isAutheticated();\n  let history = useHistory();\n  const [value, setValue] = useState({\n    question: \"\",\n    option: {\n      option1: \"\",\n      option2: \"\",\n      option3: \"\",\n      option4: \"\"\n    },\n    error: \"\",\n    loading: \"false\",\n    getRedirect: false,\n    formData: \"\"\n  });\n  const {\n    question,\n    option,\n    error,\n    loading,\n    getRedirect,\n    formData\n  } = value;\n\n  const handleChange = event => {\n    // setError(\"\");\n    setValue({ ...value,\n      [event.target.name]: event.target.value\n    }); // console.log(event.target.value);\n\n    const options = { ...value.option,\n      [event.target.name]: event.target.value\n    };\n    setValue(prev => ({ ...prev,\n      option: options\n    }));\n  };\n\n  const onSubmit = async event => {\n    event.preventDefault();\n    setValue({ ...value,\n      error: \"\",\n      loading: true\n    }); // console.log(handel);\n\n    const {\n      option1,\n      option2,\n      option3,\n      option4\n    } = option; // console.log(option);\n\n    const options = [option1, option2, option3, option4]; // console.log(options);\n\n    await axios.post(`${API}/polls/create`, {\n      question,\n      options\n    });\n    history.push(\"/admin/Polls\");\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"AddPoll\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }\n  }, \"Add New Poll\"), /*#__PURE__*/React.createElement(\"form\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"textarea\", {\n    rows: \"4\",\n    cols: \"50\",\n    className: \"form-control mb-2\",\n    placeholder: \"Question\",\n    name: \"question\",\n    value: question,\n    onChange: event => handleChange(event),\n    autoFocus: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"form-control mb-2\",\n    placeholder: \"Option1\",\n    onChange: event => handleChange(event),\n    name: \"option1\",\n    value: option.option1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"form-control mb-2\",\n    placeholder: \"Option2\",\n    onChange: event => handleChange(event),\n    name: \"option2\",\n    value: option.option2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"form-control mb-2\",\n    placeholder: \"Option3\",\n    onChange: event => handleChange(event),\n    name: \"option3\",\n    value: option.option3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"form-control mb-2\",\n    placeholder: \"Option4\",\n    onChange: event => handleChange(event),\n    name: \"option4\",\n    value: option.option4,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    onClick: onSubmit,\n    className: \"btn Submitbtn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 11\n    }\n  }, \"Submit\")), /*#__PURE__*/React.createElement(Link, {\n    to: \"/admin/dashboard\",\n    className: \"Backbtn btn w-100\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(ArrowBackIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 11\n    }\n  }), \" Back to Dashboard\")));\n};\n\nexport default AddPoll;","map":{"version":3,"sources":["E:/test/frontend/src/admin/AddPoll.js"],"names":["React","useState","isAutheticated","API","axios","useHistory","Link","ArrowBackIcon","AddPoll","user","token","history","value","setValue","question","option","option1","option2","option3","option4","error","loading","getRedirect","formData","handleChange","event","target","name","options","prev","onSubmit","preventDefault","post","push"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport \"../styles.scss\";\r\nimport { isAutheticated } from \"../auth/helper/index\";\r\nimport { API } from \"../backend\";\r\nimport axios from \"axios\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { Link } from \"react-router-dom\";\r\nimport ArrowBackIcon from \"@material-ui/icons/ArrowBack\";\r\n\r\nconst AddPoll = () => {\r\n  const { user, token } = isAutheticated();\r\n  let history = useHistory();\r\n  const [value, setValue] = useState({\r\n    question: \"\",\r\n    option: { option1: \"\", option2: \"\", option3: \"\", option4: \"\" },\r\n    error: \"\",\r\n    loading: \"false\",\r\n    getRedirect: false,\r\n    formData: \"\",\r\n  });\r\n\r\n  const { question, option, error, loading, getRedirect, formData } = value;\r\n\r\n  const handleChange = (event) => {\r\n    // setError(\"\");\r\n    setValue({ ...value, [event.target.name]: event.target.value });\r\n    // console.log(event.target.value);\r\n    const options = {\r\n      ...value.option,\r\n      [event.target.name]: event.target.value,\r\n    };\r\n    setValue((prev) => ({ ...prev, option: options }));\r\n  };\r\n\r\n  const onSubmit = async (event) => {\r\n    event.preventDefault();\r\n    setValue({ ...value, error: \"\", loading: true });\r\n    // console.log(handel);\r\n    const { option1, option2, option3, option4 } = option;\r\n    // console.log(option);\r\n    const options = [option1, option2, option3, option4];\r\n    // console.log(options);\r\n    await axios.post(`${API}/polls/create`, {\r\n      question,\r\n      options,\r\n    });\r\n    history.push(\"/admin/Polls\");\r\n  };\r\n\r\n  return (\r\n    <div className=\"AddPoll\">\r\n      <div className=\"container\">\r\n        <h1>Add New Poll</h1>\r\n        <form>\r\n          <textarea\r\n            rows=\"4\"\r\n            cols=\"50\"\r\n            className=\"form-control mb-2\"\r\n            placeholder=\"Question\"\r\n            name=\"question\"\r\n            value={question}\r\n            onChange={(event) => handleChange(event)}\r\n            autoFocus\r\n          ></textarea>\r\n          <input\r\n            type=\"text\"\r\n            className=\"form-control mb-2\"\r\n            placeholder=\"Option1\"\r\n            onChange={(event) => handleChange(event)}\r\n            name=\"option1\"\r\n            value={option.option1}\r\n          />\r\n          <input\r\n            type=\"text\"\r\n            className=\"form-control mb-2\"\r\n            placeholder=\"Option2\"\r\n            onChange={(event) => handleChange(event)}\r\n            name=\"option2\"\r\n            value={option.option2}\r\n          />\r\n          <input\r\n            type=\"text\"\r\n            className=\"form-control mb-2\"\r\n            placeholder=\"Option3\"\r\n            onChange={(event) => handleChange(event)}\r\n            name=\"option3\"\r\n            value={option.option3}\r\n          />\r\n          <input\r\n            type=\"text\"\r\n            className=\"form-control mb-2\"\r\n            placeholder=\"Option4\"\r\n            onChange={(event) => handleChange(event)}\r\n            name=\"option4\"\r\n            value={option.option4}\r\n          />\r\n          <button type=\"submit\" onClick={onSubmit} className=\"btn Submitbtn\">\r\n            Submit\r\n          </button>\r\n        </form>\r\n        <Link to=\"/admin/dashboard\" className=\"Backbtn btn w-100\">\r\n          <ArrowBackIcon /> Back to Dashboard\r\n        </Link>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AddPoll;\r\n"]},"metadata":{},"sourceType":"module"}